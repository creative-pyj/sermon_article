{% load static %}
<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>【プレビュー】{{ obj.content_title }}</title>
    <link rel="stylesheet" href="{% static 'articles/css/sermon_article.css' %}">
    <style>
      /* プレビュー用の透かし */
      body::before {
        content: "Preview";
        font-size: 180px;
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) rotate(-45deg);
        color: rgba(0, 0, 0, 0.05); /* 少し薄くしました */
        pointer-events: none;
        user-select: none;
        z-index: 1000;
      }

      /* index.html と共通のデザイン定義 */
      .article-item {
        display: flex;
        align-items: center;
        padding: 10px;
        border-bottom: 1px solid #eee;
        background-color: #fff; /* プレビュー用に背景白 */
      }
      
      .list-image-container {
        flex-shrink: 0;
        width: 80px;
        height: 80px;
        margin-right: 15px;
        background-color: #ccc;
        border-radius: 4px;
        overflow: hidden;
      }
      .list-image-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .list-content {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
      }

      .list-meta {
        font-size: 0.85rem;
        color: #666;
        margin-bottom: 5px;
        line-height: 1.2;
      }

      .list-title {
        font-size: 1.1rem;
        font-weight: bold;
        color: #333;
        line-height: 1.3;
      }
    </style>
  </head>
  <body>
    <div class="sidebar">
      <div class="brand-header">招待教会讲道</div>
      <div class="search-container">
        <input
          type="search"
          disabled
          class="s-input"
          placeholder="（预览模式）"
        />
      </div>
      <div id="articleList">
        <div class="article-item">
          
          <div class="list-image-container">
            {% if obj.member and obj.member.image %}
              <img src="{% static 'articles/images/' %}{{ obj.member.image.url }}" alt="{{ obj.member.name }}">
            {% else %}
              <img src="{% static 'articles/images/default_user.png' %}" alt="No Image">
            {% endif %}
          </div>

          <div class="list-content">
            <div class="list-meta">
              {{ obj.sermon_at|date:"Y年m月d日 H:i" }}<br>
              {% if obj.member %}
                {{ obj.member.name }} 
                {% if obj.member.kana %}({{ obj.member.kana }}){% endif %}
                / {{ obj.member.get_role_display }}
              {% else %}
                Unknown
              {% endif %}
            </div>
            <div class="list-title">
              {{ obj.content_title }}
            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="col-md-8 content-area">
      <div class="status-bar" id="status-text">
        表示中：{{ obj.content_title }} (プレビュー)
      </div>
      <div id="displayArea" class="disp_area">
        <h2 class="content_title">{{ obj.content_title|safe }}</h2>
        <div class="section-box">
          {{ obj.content_summary|safe }}
        </div>
        <div class="section-box">
          {{ obj.content_scripture|safe }}
        </div>
        {% comment %} <div class="section-box">
          {{ obj.content_sermon_original }}
        </div> {% endcomment %}
        <div class="section-box content_sermon_translate">
          {{ obj.content_sermon_translate|safe }}
        </div>
        <div class="section-box">{{ obj.content_tips|safe }}</div>
      </div>
    </div>
  </body>
</html>